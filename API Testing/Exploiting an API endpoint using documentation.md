# Exploiting an API endpoint using documentation

**Scenario:** 
To solve the lab, find the exposed API documentation and delete carlos. You can log in to your own account using the following credentials: wiener:peter.

The first step in this lab will be to login with the given credentials username: wiener and password: peter. Once logged in, we turn on the intercept, update our email address, then send the PATCH request to Repeater. 

<img width="3374" height="1730" alt="image" src="https://github.com/user-attachments/assets/fd549c0b-e6f2-45af-966a-73f0ed5a8f1a" />


From here, we can remove /wiener and /user from the path so it is just /api. This lab is quite easy and straightforward as having just /api as the endpoint will give us what we need. We can now show the response of the request in the browser.

<img width="3374" height="1730" alt="image" src="https://github.com/user-attachments/assets/66270fb1-81f7-4ebe-a417-648a4ee1cab0" />

Once the link of the request is pasted into the browser, we will see the API documentation right on the front-end in which we'll want to select the DELETE method since we are trying to delete the username: carlos.

<img width="3374" height="1730" alt="image" src="https://github.com/user-attachments/assets/8d20729c-3944-4cb0-a021-d25f8f72bf15" />

We can now enter carlos and send the request in which we'll receive a 200 indicating this username was succesfully deleted.

<img width="2852" height="1320" alt="image" src="https://github.com/user-attachments/assets/bed15cc1-b417-4458-a5c0-b2be02313012" />

# Takeaway:
The server was doing a bad job of checking who was asking for something. By just changing the the endpoint of a simple request like turning my personal email update path (/user/wiener) into the API path (/api), I tricked the system into giving me access to its entire API documentation. Once I had the documentation, I found the DELETE function and used it to simply delete the user 'carlos' without needing any administrator privileges. It really highlighted how critical it is for every single API endpoint to check if the user is truly authorized to access or change the specific resource they are targeting.
